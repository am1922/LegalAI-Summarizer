# Техническое задание: LegalAI Summarizer

## 1. Введение
**Цель:**  
Разработать кроссплатформенное MVP для iOS/Android, автоматизирующее:  
- Сбор документов с [pravo.gov.ru](https://pravo.gov.ru) и [regulation.gov.ru](https://regulation.gov.ru).  
- AI-резюмирование по кастомизируемым сценариям.  
- Сохранение/обмен результатами.  

**Целевая аудитория:**  
Юристы, профильные специалисты.  

**Ключевые особенности:**  
- Главный экран с новыми документами (день/неделя) и популярными проектами.  
- Поиск по собственной БД (ключевые слова, номер, дата).  
- Карточка документа: техданные + AI-резюме.  
- Кастомизация сценариев (предустановленные/пользовательские).  
- Минималистичный интерфейс («одна кнопка»).  

---

## 2. Функциональные требования

### 2.1 Основной функционал
**1. Главный экран**  
- *Pravo.gov.ru*: документы за выбранный период (день/неделя).  
- *Regulation.gov.ru*: топ обсуждаемых проектов.  

**2. Карточка документа**  
- **Техданные:**  
  - Принявший орган.  
  - Название, дата, номер.  
- **AI-резюме:**  
  - Шаблоны: «Основные изменения», «Для юристов», «Простыми словами».  
  - Кнопка «Поделиться» → PDF/текст + мессенджеры.  

**3. Поиск**  
- Фильтры: ключевые слова, номер, дата.  
- Превью результатов: название, орган, дата.  

**4. Профиль**  
- Управление сценариями:  
  - Предустановки: «Кратко» (500 символов), «Эксперт», «Гражданская версия».  
  - Кастомизация:  
    - Добавление инструкций (пример: «Выделить штрафы», «Риски для нефтегаза»).  
    - Фильтрация по ключевым словам.  

### 2.2 Дополнительный функционал
**5. Уведомления**  
- Оповещения о новых документах и изменениях статуса проектов.  
- Настройки: тип документов (законы, указы), частота (день/неделя).  

**6. Офлайн-режим**  
- Доступ к кешированным данным.  
- Синхронизация при подключении к сети.  

**7. Обратная связь**  
- Кнопка «Сообщить об ошибке» → скриншот + описание.  

---

## 3. Технические требования

### 3.1 Платформы и технологии
| Параметр       | iOS                          | Android                      |
|----------------|------------------------------|------------------------------|
| **Язык**       | Swift                        | Kotlin                       |
| **Архитектура**| MVVM                         | MVVM                         |
| **UI**         | SwiftUI                      | Jetpack Compose              |
| **Сеть**       | Combine + Alamofire          | Retrofit + Coroutines        |
| **Хранилище**  | CoreData + UserDefaults      | Room + DataStore             |

**Общее:**  
- Парсинг: SwiftSoup (iOS), Jsoup (Android).  
- AI: API DeepSeek (`POST /summarize`).  
- Минимальные версии: iOS 16, Android 8.0 (API 26).  

### 3.2 Безопасность  
- HTTPS для всех запросов.  
- Шифрование: Secure Enclave (iOS), AndroidKeyStore.  

---

## 4. Интерфейс (UI/UX)
**Главный экран:**  
- Верх: горизонтальный скролл с популярными документами.  
- Низ: кнопка «Найти документ».  

**Карточка документа:**  
- Метаданные: моноширинный шрифт, серый текст.  
- Резюме: фон адаптивный (тема), шрифт 16pt.  
- Кнопка «Поделиться» → правый верхний угол.  

**Поиск:**  
- Строка поиска + список результатов (название + дата).  

**Профиль:**  
- Секция «Мои сценарии» → переключатель шаблонов + модальное окно для кастомизации.  

---

## 5. Тестирование
**Критические сценарии:**  
- Загрузка данных без интернета → показ кеша.  
- Резюме для 100+ страниц → таймаут ≤20 сек.  
- Поддержка кириллицы в шаблонах.  

---

## 6. Риски
**Изменение структуры HTML на гос. порталах** → еженедельный мониторинг парсеров. 

---

**Итог:**  
Приложение фокусируется на трех экранах (главный, поиск, профиль), заменяя ручной анализ AI-резюме и персонализацией сценариев.
